# CRE8.pw Environment Configuration Template
#
# TICKET T1.1: Environment configuration template
#
# Copy this file to .env and configure for your environment.
# NEVER commit .env to version control (it's in .gitignore).
#
# See docs/APPENDIX/B-Environment-Configuration.md for complete reference.

# =============================================================================
# Application Configuration
# =============================================================================
APP_NAME=CRE8.pw
APP_ENV=production
APP_DEBUG=false
APP_URL=https://cre8.pw

# =============================================================================
# Database Configuration
# =============================================================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=cre8pw
DB_USER=cre8_user
DB_PASS=change_me_secure_password
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_bin
DB_SSL_MODE=DISABLED

# =============================================================================
# JWT Configuration
# =============================================================================
JWT_ALGO=RS256
JWT_PRIVATE_KEY_PATH=/app/keys/private.pem
JWT_PUBLIC_KEY_PATH=/app/keys/public.pem
JWT_ISSUER=https://cre8.pw
JWT_AUDIENCE=https://cre8.pw/console
JWT_ACCESS_TTL=900
JWT_REFRESH_TTL=2592000
JWT_LEEWAY=10

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ALLOWED_ORIGINS=https://cre8.pw,https://www.cre8.pw
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Authorization,Content-Type,X-Requested-With
CORS_EXPOSED_HEADERS=X-Total-Count,X-Page-Number

# =============================================================================
# CSP Configuration (HTML routes only)
# =============================================================================
CSP_DEFAULT_SRC="'self' https://cre8.pw"

# =============================================================================
# CSRF Configuration (HTML routes only)
# =============================================================================
CSRF_SECRET=change_me_random_32_char_secret_here

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
RATE_LIMIT_GENERAL=100 per minute
RATE_LIMIT_AUTH=10 per minute
RATE_LIMIT_API=60 per minute
RATE_LIMIT_BACKING=memory

# =============================================================================
# Redis Configuration (for rate limiter storage)
# =============================================================================
# FIX-2.3: Redis configuration for production rate limiting
# Set RATE_LIMIT_BACKING=redis to enable Redis-backed storage
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# HTTP Client Configuration
# =============================================================================
HTTP_TIMEOUT=30
HTTP_RETRY_MAX=3

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_CHANNEL=stack
LOG_LEVEL=info
LOG_PATH=/app/logs

# =============================================================================
# Hashing Configuration (Argon2id)
# =============================================================================
APIKEY_HASH_ALGO=argon2id
PASSWORD_MEMORY_COST=65536
PASSWORD_TIME_COST=4
PASSWORD_PARALLELISM=1
